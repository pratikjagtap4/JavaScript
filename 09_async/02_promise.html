<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="background-color: #212121; color: white;">
    <h1>hello world</h1>
</body>
<script>
    
    function sum(){
        console.log(4+5)
    }

    function calculator(a,b,cbFn){
        cbFn(a,b)
    }
    // calculator(5,77)


    // callBacks


    function getVal(data,getNextVal ){
        setTimeout(() => {
            // console.log(data)
            if(getNextVal){
                getNextVal()
            }
            else{
                // console.log("done with this shit")
            }
        }, 1000);
    }

    // getVal(10,()=>{
        // getVal(20,()=>{
        //     getVal(40,()=>{
        //         getVal(60,()=>{
        //             getVal(80,()=>{
        //                 getVal(100,()=>{
        //                     getVal(120,()=>{
        //                         getVal(140,()=>{
        //                             getVal(160,()=>{
        //                                 getVal(180,()=>{
        //                                     getVal(200,()=>{
        //                                         getVal(220)
        //                                     })
        //                                 })
        //                             })
        //                         })
        //                     })
        //                 })
        //             })
        //         })
        //     })
        // })
    // })
    
// promises


function getData(){
    return new Promise((resolve, reject)=>{
        setTimeout(()=>{
            let data = Math.floor(Math.random()*100 + 1);
            if(data>10){
                console.log("Data is:" , data);
                resolve("success");
            }
            else{
                reject("error");
            }
        },4000)
    })
}
// console.log("fetching data 1 .....")
// let p1 = getData()
// p1.then(()=>{
//     console.log("promise 1  is fulfilled succesfully")

//     console.log("fetcjing data 2 .....")
//     let p2 = getData()
//     p2.then(()=>{
//         console.log("promise 2 is fulfilled succesfully")
//     })
//     p2.catch(()=>{
//         console.log("promise rejcted")
//     })
// })

// p1.catch(()=>{
//     console.log("promise is rejected")
// })

console.log("fetching data 1 ....");

getData().then((res)=>{
    return getData()
}).then((res)=>{
    return getData()
}).then((res)=>{
    return getData()
}).then((res)=>{
    return getData()
}).then((res)=>{
    console.log(res)
})




</script>
</html>